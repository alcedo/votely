<head>
  <title>votefor</title>
</head>

<body>
	<div class = "container">
		{{> main }}
		{{> mochaTestReport }}
	</div>
</body>

<template name="main">
	{{#if dbSyncReady}}
		<h3>{{voteTopic}}</h3>
		{{#unless userInputNewTopic}}
			{{> vote_topic_input}}
		{{else}}
			{{> vote_buttons}}
			{{> vote_results}}
			{{> chat_buzz}}			
		{{/unless}}

	{{else}}
		<h1>Syncing up with mothership</h1>
		<img src="/ajax-loader.gif">
	{{/if}}
</template>



<template name="vote_topic_input">
	<div id = "voteTopicDiv" class = "row">
		<div class = "span6">
			<input id="voteTopicInput" class="input-block-level" type="text">
		</div>
		<div class = "span6">
			<button id="setTopicBtn" class="btn btn-primary" type="button">Submit</button>
		</div>
	</div>
</template>

<template name="vote_buttons">
	<div class = "row">
		<div class = "span6">
			<button id="voteYes" class="btn btn-large btn-primary" type="button">Yes !</button>
			<button id="voteNo" class="btn btn-large" type="button">Nope !</button>
		</div>
	</div>
</template>

<template name="vote_results">
	<div class = "row">
		<div class = "span6">
			{{#each votes}}
			      <h1 class="text-success">{{voteYesCount}} Participants Said Yes !</h1>
			      <h1 class="text-warning">{{voteNoCount}}  Participants Said No !</h1>
		    {{/each}}
		</div>
	</div>
</template>

<template name = "chat_buzz">
	<div class = "row">
		<div class = "span6">
			<input id="chatInput" class="input-block-level" type="text">
		</div>
	</div>

	{{#each chatMessages}}
		<br>
		{{clientId}} says: 
		{{msg}}
	{{/each}}
</template>


